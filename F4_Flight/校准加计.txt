clear;clc;
axm=[0.009980   0.050556   0.059971   0.094054   1.070917    -0.919846];
aym=[-0.001581  -0.036724  -1.032841  0.980214   -0.027611   -0.078832];
azm=[0.887175   -1.154132  -0.114084  -0.114475  -0.169704   -0.086328];
am=[axm',aym',azm']; %axm, aym, azm分别是采集的三轴加速度计数据，最好是6个面进行采集
G=[1 1 1 1 1 1]';
f=@(a,am)(a(1)*am(:,1)+a(2)).^2+(a(3)*am(:,2)+a(4)).^2+(a(5)*am(:,3)+a(6)).^2;
a0=[1 0 1 0 1 0];
a=lsqcurvefit(f,a0,am,G)